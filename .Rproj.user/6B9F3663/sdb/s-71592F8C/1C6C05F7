{
    "contents" : "library(tidyverse)\nlibrary(stringr)\n\nsneakers <- read.csv(\"shoeDataV2.csv\", header = FALSE, stringsAsFactors = FALSE)\ncolnames(sneakers) <- c('Sneaker', 'Sales', 'Premium', 'MarketAvg', 'ProductID', 'Retail', 'ReleaseDate', 'Colorway', 'MarketRange')\n\nsneakers <- sneakers[!grepl('GS',sneakers$Sneaker, fixed = TRUE),]\nsneakers <- sneakers[grepl('\\\\$\\\\d+',sneakers$Retail),]\nsneakers$MarketAvg <- gsub('$', '', sneakers$MarketAvg, fixed = TRUE)\nsneakers$Premium <- gsub('%', '', sneakers$Premium, fixed = TRUE)\nsneakers$Retail <- gsub('$', '', sneakers$Retail, fixed = TRUE)\nsneakers$Market <- gsub('$', '', sneakers$MarketRange, fixed = TRUE)\nsneakers$Market <- gsub('--', 'NA', sneakers$MarketRange, fixed =TRUE)\nsneakers$Market <- gsub(',', '', sneakers$MarketRange, fixed =TRUE)\nsneakers$Retail <- gsub(',', '', sneakers$Retail, fixed =TRUE)\n\n\nsneakers <- sneakers %>% separate(MarketRange, into = c('MarketLow', 'MarketHigh'), sep = ' - ')\nsneakers$ReleaseDate <- ymd(sneakers$ReleaseDate)\nnumerics <- c('Sales', 'Premium', 'MarketAvg', 'Retail', 'MarketLow', 'MarketHigh')\nsneakers[numerics] <- sapply(sneakers[numerics], as.numeric)\n\n\n#### Parse Sneaker Names ###\nsneakers <- sneakers[!grepl('X{2,3}\\\\d*', sneakers$Sneaker),] #Remove XX4 models and up \nsneakers <- sneakers[grepl('(?<=Jordan\\\\s)\\\\d', sneakers$Sneaker, perl = TRUE),] #Only keep Jordan (number) models (exclude Spizike's and Fusions)\nsneakers$Colorway <- gsub('Jordan\\\\s\\\\d+\\\\s', '', sneakers$Sneaker)\nsneakers$RetroOG <- ifelse(grepl('\\\\d+\\\\sOG', sneakers$Sneaker), 'OG', 'Retro')\nsneakers$ModelNumber <- as.numeric(str_extract(sneakers$Sneaker, '(?<!\\\\()\\\\d+(?!\\\\))'))\nsneakers <- sneakers %>% filter(ModelNumber < 2010)\n\n### Top 10 ###\nsneakerVolume <- sneakers %>% top_n(10, Sales)\n\n### Plots ###\ng <- ggplot(data = sneakers, aes(x = ModelNumber, y = MarketAvg))\ng + geom_point(aes(size = Sales, color = rank(Premium)), alpha = 0.5) +\n  ggtitle(\"Air Jordan Resell Value\\n\") +\n  scale_x_continuous(breaks=seq(0, 23, 1)) +\n  scale_colour_gradient(low=\"firebrick1\", high=\"forestgreen\") +\n  theme(axis.line = element_line(colour = \"grey\"), panel.background = element_blank(), plot.title=element_text(size = 14, hjust = 0.5),\n  legend.key=element_rect(colour = \"transparent\", fill = \"white\"), legend.position=c(.9,.1), legend.direction=\"horizontal\") +\n  guides(color = guide_colourbar(title = 'Price Premium Rank', title.position=\"top\", title.hjust = 0.5), size = guide_legend(title.position=\"top\", title.hjust = 0.5)) +\n  scale_size(range = c(0, 15)) +\n  ylim(0, 2000)\n\n\ng2 <- ggplot(data = sneakers, aes(x = Sales, y = MarketAvg))\ng2 + geom_point() + ylim(0, 500)\n\n?ggtitle\n\n",
    "created" : 1505452463316.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1272739773",
    "id" : "1C6C05F7",
    "lastKnownWriteTime" : 1505538835,
    "path" : "~/Code/Sneakers/analysis.R",
    "project_path" : "analysis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}